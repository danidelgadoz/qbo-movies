(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{ubTF:function(e,t,o){"use strict";o.r(t),o.d(t,"MovieModule",function(){return T});var r=o("ofXK"),n=o("PCNd"),i=o("tyNb"),a=o("fXoL"),c=o("z6cu"),s=o("JIr8"),b=o("AytR"),m=o("tk/3");const u=b.a.backendEndpoint;let l=(()=>{class e{constructor(e){this.http=e}getMovies(){return this.http.get(u+"/api/movie").pipe(Object(s.a)(e=>Object(c.a)("Ups! Algo salio mal...")))}addMovie(e){return this.http.post(u+"/api/movie",e).pipe(Object(s.a)(e=>(console.log("MovieService => addMovie => error",e),Object(c.a)(e.error.code))))}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(m.b))},e.\u0275prov=a.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var p=o("XiUz"),d=o("bTqV"),v=o("NFeN"),f=o("Wp6s");let g=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Gb({type:e,selectors:[["app-movie-card"]],inputs:{movie:"movie"},decls:12,vars:9,consts:[[1,"example-card"],["mat-card-avatar","",1,"example-header-image"],["mat-card-image","","alt","",3,"src"]],template:function(e,t){1&e&&(a.Sb(0,"mat-card",0),a.Sb(1,"mat-card-header"),a.Nb(2,"div",1),a.Sb(3,"mat-card-title"),a.Bc(4),a.Rb(),a.Sb(5,"mat-card-subtitle"),a.Bc(6),a.Rb(),a.Rb(),a.Nb(7,"img",2),a.Sb(8,"mat-card-content"),a.Sb(9,"p"),a.Bc(10),a.fc(11,"slice"),a.Rb(),a.Rb(),a.Rb()),2&e&&(a.Bb(4),a.Cc(t.movie.title),a.Bb(2),a.Cc(t.movie.premiere),a.Bb(1),a.lc("src",t.movie.posterImage,a.tc),a.Bb(3),a.Ec(" ",a.hc(11,5,t.movie.overview,0,200)," ",t.movie.overview.length>200?"...":""," "))},directives:[f.a,f.d,f.b,f.h,f.g,f.e,f.c],pipes:[r.r],styles:["[_nghost-%COMP%]{display:block;margin:8px}[_nghost-%COMP%]   .example-card[_ngcontent-%COMP%]{max-width:400px}[_nghost-%COMP%]   .example-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-height:250px}[_nghost-%COMP%]   .example-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{min-height:100px}"]}),e})();function h(e,t){if(1&e&&(a.Sb(0,"div"),a.Bc(1),a.Rb()),2&e){const e=a.ec();a.Bb(1),a.Dc(" ",e.errorMessage,"\n")}}const S=function(e){return["/movies",e]};function M(e,t){if(1&e&&a.Nb(0,"app-movie-card",4),2&e){const e=t.$implicit;a.kc("movie",e)("routerLink",a.nc(2,S,e.id))}}let k=(()=>{class e{constructor(e,t){this.movieService=e,this.router=t,this.myMovies=[],this.errorMessage="",this.errorOcurred=!1}ngOnInit(){this.loadMovies()}onNavigateToAddMovie(){this.router.navigate(["/movies/add"])}loadMovies(){this.movieService.getMovies().subscribe(e=>{this.myMovies=e},e=>{this.errorOcurred=!0,this.errorMessage=e})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(l),a.Mb(i.b))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-movie-catalog"]],decls:6,vars:2,consts:[[4,"ngIf"],["fxLayout","row wrap","fxLayoutAlign","center"],["fxFlex.xs","80","fxFlex.sm","40","fxFlex","25",3,"movie","routerLink",4,"ngFor","ngForOf"],["mat-fab","","color","primary",3,"click"],["fxFlex.xs","80","fxFlex.sm","40","fxFlex","25",3,"movie","routerLink"]],template:function(e,t){1&e&&(a.Ac(0,h,2,1,"div",0),a.Sb(1,"div",1),a.Ac(2,M,1,4,"app-movie-card",2),a.Rb(),a.Sb(3,"button",3),a.ac("click",function(){return t.onNavigateToAddMovie()}),a.Sb(4,"mat-icon"),a.Bc(5,"add"),a.Rb(),a.Rb()),2&e&&(a.kc("ngIf",1==t.errorOcurred),a.Bb(2),a.kc("ngForOf",t.myMovies))},directives:[r.k,p.d,p.c,r.j,d.a,v.a,g,p.b,i.c],styles:["app-movie-card[_ngcontent-%COMP%]{cursor:pointer}button[_ngcontent-%COMP%]{position:fixed;bottom:16px;right:16px}"]}),e})(),R=(()=>{class e{constructor(e,t){this.route=e,this.router=t}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id")}onBack(){this.router.navigate(["/movies"])}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(i.a),a.Mb(i.b))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-movie-detail"]],decls:7,vars:1,consts:[["mat-button","",3,"click"]],template:function(e,t){1&e&&(a.Sb(0,"div"),a.Sb(1,"h1"),a.Bc(2),a.Rb(),a.Rb(),a.Sb(3,"button",0),a.ac("click",function(){return t.onBack()}),a.Sb(4,"mat-icon"),a.Bc(5,"arrow_back"),a.Rb(),a.Bc(6," Back\n"),a.Rb()),2&e&&(a.Bb(2),a.Dc("MovieId: ",t.id,""))},directives:[d.a,v.a],styles:[""]}),e})();var x=o("3Pt+"),B=o("zHaW"),w=o("kmnG"),O=o("qFsG"),y=o("iadO"),I=o("d3UM"),C=o("FKr1");let N=(()=>{class e{constructor(e,t){this.movieService=e,this.snackBar=t}ngOnInit(){this.movieForm=new x.g({title:new x.e({value:"",disabled:!1},[x.q.required,x.q.maxLength(20)]),overview:new x.e({value:"",disabled:!1},[]),premiere:new x.e({value:new Date,disabled:!1},[]),posterImage:new x.e({value:"",disabled:!1},[]),genre:new x.e({value:"",disabled:!1},[])})}onFormSubmit(){this.movieService.addMovie(this.movieForm.value).subscribe(e=>{console.log("response",e),this.snackBar.open("Movie has been created!","OK",{duration:3e3})},e=>{console.log("MovieFormComponent => onFormSubmit => error",e),this.handleOnCreateMovieError(e)})}handleOnCreateMovieError(e){let t="";switch(e){case"INVALID_PHONE_NUMBER":t="Invalid phone number";break;case"INVALID_EMAIL":t="Invalid email";break;default:t="Ups! something went wrong"}this.snackBar.open(t,"OK",{duration:3e3})}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(l),a.Mb(B.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-movie-form"]],decls:35,vars:3,consts:[["fxLayout","column",3,"formGroup","ngSubmit"],["appearance","outline"],["matInput","","formControlName","title"],["matInput","","formControlName","overview"],["matInput","","formControlName","premiere",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","posterImage"],["formControlName","genre"],["value","COMEDIA"],["value","DRAMA"],["value","TERROR"],["fxLayout","row","fxLayoutAlign","end","fxLayoutGap","16px",1,"button-actions"],["type","reset","mat-raised-button",""],["type","submit","mat-raised-button","","color","primary"]],template:function(e,t){if(1&e&&(a.Sb(0,"form",0),a.ac("ngSubmit",function(){return t.movieForm.valid&&t.onFormSubmit()}),a.Sb(1,"mat-form-field",1),a.Sb(2,"mat-label"),a.Bc(3,"Title"),a.Rb(),a.Nb(4,"input",2),a.Rb(),a.Sb(5,"mat-form-field",1),a.Sb(6,"mat-label"),a.Bc(7,"Overview"),a.Rb(),a.Nb(8,"textarea",3),a.Rb(),a.Sb(9,"mat-form-field",1),a.Sb(10,"mat-label"),a.Bc(11,"Premiere"),a.Rb(),a.Nb(12,"input",4),a.Nb(13,"mat-datepicker-toggle",5),a.Nb(14,"mat-datepicker",null,6),a.Rb(),a.Sb(16,"mat-form-field",1),a.Sb(17,"mat-label"),a.Bc(18,"Poster Image URL"),a.Rb(),a.Nb(19,"input",7),a.Rb(),a.Sb(20,"mat-form-field",1),a.Sb(21,"mat-label"),a.Bc(22,"Genre"),a.Rb(),a.Sb(23,"mat-select",8),a.Sb(24,"mat-option",9),a.Bc(25,"Comedia"),a.Rb(),a.Sb(26,"mat-option",10),a.Bc(27,"Drama"),a.Rb(),a.Sb(28,"mat-option",11),a.Bc(29,"Terror"),a.Rb(),a.Rb(),a.Rb(),a.Sb(30,"div",12),a.Sb(31,"button",13),a.Bc(32,"RESET"),a.Rb(),a.Sb(33,"button",14),a.Bc(34,"CREATE"),a.Rb(),a.Rb(),a.Rb()),2&e){const e=a.qc(15);a.kc("formGroup",t.movieForm),a.Bb(12),a.kc("matDatepicker",e),a.Bb(1),a.kc("for",e)}},directives:[x.r,x.n,p.d,x.h,w.c,w.f,O.b,x.c,x.m,x.f,y.b,y.d,w.g,y.a,I.a,C.m,p.c,p.e,d.a],styles:["form[_ngcontent-%COMP%]{padding:32px}"]}),e})();var L=o("8PDw"),F=o("/t3+");const P=function(){return["/welcome"]},A=function(){return["/movies"]},_=function(){return["/login"]};let E=(()=>{class e{constructor(e){this.authService=e}ngOnInit(){}onClickLogout(){this.authService.logout()}}return e.\u0275fac=function(t){return new(t||e)(a.Mb(L.a))},e.\u0275cmp=a.Gb({type:e,selectors:[["app-movie"]],decls:12,vars:6,consts:[["color","primary"],["fxLayout","row"],["mat-button","",3,"routerLink"],["fxFlex",""],["mat-button","",3,"routerLink","click"]],template:function(e,t){1&e&&(a.Sb(0,"mat-toolbar",0),a.Sb(1,"mat-toolbar-row",1),a.Sb(2,"span"),a.Bc(3,"QBO Movies"),a.Rb(),a.Sb(4,"button",2),a.Bc(5,"Home"),a.Rb(),a.Sb(6,"button",2),a.Bc(7,"Movies"),a.Rb(),a.Nb(8,"div",3),a.Sb(9,"button",4),a.ac("click",function(){return t.onClickLogout()}),a.Bc(10,"Logout"),a.Rb(),a.Rb(),a.Rb(),a.Nb(11,"router-outlet")),2&e&&(a.Bb(4),a.kc("routerLink",a.mc(3,P)),a.Bb(2),a.kc("routerLink",a.mc(4,A)),a.Bb(3),a.kc("routerLink",a.mc(5,_)))},directives:[F.a,F.c,p.d,d.a,i.c,p.b,i.e],styles:[""]}),e})();const D=[{path:"",component:E,children:[{path:"",component:k},{path:"add",component:N},{path:":id",component:R,canActivate:[(()=>{class e{constructor(e){this.router=e}canActivate(e,t){let o=Number(e.url[0].path);return!(isNaN(o)||o<1)||(alert("Invalid movie ID"),this.router.navigate(["/movies"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(a.Wb(i.b))},e.\u0275prov=a.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]}]}];let G=(()=>{class e{}return e.components=[k,R,N,E],e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},imports:[[i.d.forChild(D)],i.d]}),e})(),T=(()=>{class e{}return e.\u0275mod=a.Kb({type:e}),e.\u0275inj=a.Jb({factory:function(t){return new(t||e)},imports:[[r.c,G,n.a]]}),e})()}}]);